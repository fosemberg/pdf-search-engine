 STEVAL-SPIN3204 Solution overview Solution overview The STEVAL-SPIN3204 motor control board can be set up to control a threa-phase brushless DC (BLDC) motor based on position feedback data from one of the following sources: external quadrature encoders or Hall Effect sensors on-board circuitry that senses the back electromotive force (BEMF) generated by the load motor. Figure 1. STEVAL-SPIN3204 motor control block diagram ESD protection STEVAL-SPIN3204 evaluation board USB Type B Mini I ST-LINK/V2-1 USBLC6-2 LDO regulator stunk STM32F103CB MCU 3x Power Half-bridge programming interface LD3985 VBUS sw control DC/DC Buck conv 12V VREG12 VREG STSPIN32F0B 3.3V BLDC controller Control Logic Gate Driver HS HS Ro. LS STM32F031 MCU OC comp (577 Value line STSW-SPIN3204 motor control Firmware sel (0) STSPIN OPAMP THREE-PHASE BLDC MOTOR BEMF 3: circuit Hall or encoder The power stage on the board delivers 15 Arms DC current from three STD140N6F7 MOSFETs in half-bridge configuration managed by the triple half-bridge gate driver on the BLDC controller. The board senses the current flowing into the motor phases through a shunt resistor, and the resulting signal is amplified, filtered and forwarded to the STSPIN32F0B BLDC controller MCU and control logic gate driver for monitoring and peak current limitation or overcurrent protection, depending on tha driving method implemented in the firmware (voltage mode or current mode, respectively). Voltage sensing is implemented through a voltage divider from the motor supply voltage (VBUS) and sent to the BLDC controller MCU for monitoring purposes. The board also features an embedded ST-LINK/V2-1 programmer/debugger to help you load, test and modify the motor controller firmware. DB3914 - Rev 1 page 2/8